<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Bases de R</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="site_libs/highlight/textmate.css"
      type="text/css" />
<script src="site_libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>

<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.9em;
  padding-left: 5px;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Accueil
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-pencil"></span>
     
    Bases de R
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="0_cours_rapide_R.html">
        <span class="fa fa-anchor"></span>
         
        Bases de R
      </a>
    </li>
    <li>
      <a href="0_manipulation.html">
        <span class="fa fa-table"></span>
         
        Manipulation des données
      </a>
    </li>
    <li>
      <a href="0_exploration.html">
        <span class="fa fa-binoculars"></span>
         
        Exploration des données
      </a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-pencil"></span>
     
    Data Visualisation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="1_base.html">
        <span class="fa fa-bar-chart"></span>
         
        Graphiques de base
      </a>
    </li>
    <li>
      <a href="1_avance.html">
        <span class="fa fa-cogs"></span>
         
        Graphiques avancés
      </a>
    </li>
    <li>
      <a href="2_non_technique.html">
        <span class="fa fa-industry"></span>
         
        Exemples non techniques
      </a>
    </li>
    <li>
      <a href="2_technique.html">
        <span class="fa fa-flask"></span>
         
        Notions techniques
      </a>
    </li>
    <li>
      <a href="3_geo.html">
        <span class="fa fa-map"></span>
         
        Données géographiques
      </a>
    </li>
    <li>
      <a href="4_machine_learning.html">
        <span class="fa fa-rocket"></span>
         
        Machine learning
      </a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-info"></span>
     
    Contact
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://fr.linkedin.com/in/kezhanshi">
        <span class="fa fa-linkedin-square"></span>
         
        Linkedin
      </a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Bases de R</h1>

</div>


<div id="installation-des-packages" class="section level1">
<h1><span class="header-section-number">1</span> Installation des packages</h1>
<p>Dans RStudio, il est possible d’exécuter le code ligne à ligne en faisant Ctrl+Entrée.</p>
<p>Dans R, il existe de nombreux packages qu’il est possible d’importer. Ainsi, on pourra utilier des données et des fonctions qui sont contenues dans ces packages.</p>
<p>Pour installer un package,</p>
<ul>
<li>sous RStudio, il est possible d’utiliser le bouton “Install” dans l’onglet “Packages”</li>
<li>il est possible d’exécuter le code suivant</li>
</ul>
<pre class="r"><code>install.packages(&quot;nom_du_package&quot;)</code></pre>
<p>Ensuite, pour charger le package, il faut exécuter le code suivant:</p>
<pre class="r"><code>library(&quot;nom_du_package&quot;)</code></pre>
</div>
<div id="environnement" class="section level1">
<h1><span class="header-section-number">2</span> Environnement</h1>
<pre class="r"><code>x=3.14159; y=&#39;hello world&#39;; z=TRUE     # create some objects. In RStudio they&#39;ll appear in &#39;Workspace&#39;
ls()                                   # list the objects in the Workspace</code></pre>
<pre><code>##   [1] &quot;a&quot;                &quot;agg&quot;              &quot;arry&quot;            
##   [4] &quot;bgg&quot;              &quot;bool&quot;             &quot;bubbles&quot;         
##   [7] &quot;caracteristiques&quot; &quot;centres&quot;          &quot;char&quot;            
##  [10] &quot;chorogg&quot;          &quot;choropleth&quot;       &quot;cities&quot;          
##  [13] &quot;co&quot;               &quot;col&quot;              &quot;color&quot;           
##  [16] &quot;county_df&quot;        &quot;CP&quot;               &quot;CP2&quot;             
##  [19] &quot;cpc&quot;              &quot;cpcn&quot;             &quot;cpcn.co&quot;         
##  [22] &quot;cpcn.model&quot;       &quot;d&quot;                &quot;d1&quot;              
##  [25] &quot;d2&quot;               &quot;danish&quot;           &quot;data&quot;            
##  [28] &quot;data2&quot;            &quot;dens&quot;             &quot;dep&quot;             
##  [31] &quot;dev&quot;              &quot;df&quot;               &quot;dict&quot;            
##  [34] &quot;dt&quot;               &quot;DT&quot;               &quot;DT2&quot;             
##  [37] &quot;f&quot;                &quot;f.complet&quot;        &quot;f.tail&quot;          
##  [40] &quot;factr&quot;            &quot;ff&quot;               &quot;fr&quot;              
##  [43] &quot;france&quot;           &quot;frank&quot;            &quot;fullRAA&quot;         
##  [46] &quot;fullratio&quot;        &quot;g&quot;                &quot;geoloc&quot;          
##  [49] &quot;ggMplot&quot;          &quot;h&quot;                &quot;i&quot;               
##  [52] &quot;info&quot;             &quot;Ins&quot;              &quot;k&quot;               
##  [55] &quot;KernelEst&quot;        &quot;l&quot;                &quot;lst&quot;             
##  [58] &quot;m&quot;                &quot;mack&quot;             &quot;match&quot;           
##  [61] &quot;matrx&quot;            &quot;mcor&quot;             &quot;mid_range&quot;       
##  [64] &quot;Motion&quot;           &quot;multiply&quot;         &quot;mydata&quot;          
##  [67] &quot;n&quot;                &quot;newrow&quot;           &quot;newVar&quot;          
##  [70] &quot;num&quot;              &quot;obs&quot;              &quot;op&quot;              
##  [73] &quot;p&quot;                &quot;PP&quot;               &quot;probs&quot;           
##  [76] &quot;qqd&quot;              &quot;RAAnc&quot;            &quot;repar&quot;           
##  [79] &quot;res&quot;              &quot;rho&quot;              &quot;rp&quot;              
##  [82] &quot;RR&quot;               &quot;s&quot;                &quot;sb&quot;              
##  [85] &quot;sigma&quot;            &quot;sp&quot;               &quot;sp500&quot;           
##  [88] &quot;sp500.monthly&quot;    &quot;state_df&quot;         &quot;sumInsects&quot;      
##  [91] &quot;sumWB&quot;            &quot;tail&quot;             &quot;tail.model&quot;      
##  [94] &quot;TG&quot;               &quot;TN&quot;               &quot;ts&quot;              
##  [97] &quot;TX&quot;               &quot;unemp&quot;            &quot;vec&quot;             
## [100] &quot;warpbreaks&quot;       &quot;wc&quot;               &quot;x&quot;               
## [103] &quot;xat&quot;              &quot;y&quot;                &quot;z&quot;</code></pre>
<pre class="r"><code>print(y)                               # print information to R &#39;Console&#39;</code></pre>
<pre><code>## [1] &quot;hello world&quot;</code></pre>
<pre class="r"><code>rm(y)                                  # remove an object
rm(list=ls())                          # remove all
# getwd()                                # find current working directory
# setwd(&quot;/Users/robinedwards/Documents&quot;) # set working directory as preferred
print    (  &quot;R ignores the &#39;white-space&#39; in command syntax&quot;     )   </code></pre>
<pre><code>## [1] &quot;R ignores the &#39;white-space&#39; in command syntax&quot;</code></pre>
<pre class="r"><code># use &#39;?&#39; for help on any R function (if its library is loaded in the session)
# ?max
# ??csv                  # search for a text string in R documentation library
# library(help=utils)    # get help on a particular package (list its functions)

# &#39;str&#39; is a powerful tool for investigating the underlying structure of any R object
str(max)</code></pre>
<pre><code>## function (..., na.rm = FALSE)</code></pre>
</div>
<div id="objects-sous-r" class="section level1">
<h1><span class="header-section-number">3</span> Objects sous R</h1>
<div id="vector" class="section level2">
<h2><span class="header-section-number">3.1</span> Vector</h2>
<pre class="r"><code># assigning values to variables
n = 5      # is possible but
n &lt;- 5     # is preferable, or..
5 -&gt; n
rm(n)

# R objects can be of various data types, but probably most common are &#39;numeric&#39; and &#39;character&#39;
( num &lt;- 3.14 )                  # note that bracketing an instruction also prints it to the console</code></pre>
<pre><code>## [1] 3.14</code></pre>
<pre class="r"><code>( char &lt;- &#39;any text string&#39; )</code></pre>
<pre><code>## [1] &quot;any text string&quot;</code></pre>
<pre class="r"><code># create a VECTOR (array) using the &#39;c()&#39; concatenate function
( vec &lt;- c(2,5,8,3,7) )</code></pre>
<pre><code>## [1] 2 5 8 3 7</code></pre>
<pre class="r"><code># a vector series
( vec &lt;- 10:20 )</code></pre>
<pre><code>##  [1] 10 11 12 13 14 15 16 17 18 19 20</code></pre>
<pre class="r"><code># R vectors can be accessed in various ways using [ ] brackets
vec[3]</code></pre>
<pre><code>## [1] 12</code></pre>
<pre class="r"><code>vec[3:6]</code></pre>
<pre><code>## [1] 12 13 14 15</code></pre>
<pre class="r"><code>vec[ c(1,3,8) ]</code></pre>
<pre><code>## [1] 10 12 17</code></pre>
<pre class="r"><code>vec[vec &gt; 15]</code></pre>
<pre><code>## [1] 16 17 18 19 20</code></pre>
<pre class="r"><code># check a vector contains a value
5 %in% vec</code></pre>
<pre><code>## [1] FALSE</code></pre>
<pre class="r"><code>12 %in% vec</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code># finding first index position of a matching value/sting
( x = c(&#39;one&#39;, &#39;five&#39;, &#39;two&#39;, 3, &#39;two&#39;) )</code></pre>
<pre><code>## [1] &quot;one&quot;  &quot;five&quot; &quot;two&quot;  &quot;3&quot;    &quot;two&quot;</code></pre>
<pre class="r"><code>match(&#39;two&#39;, x)</code></pre>
<pre><code>## [1] 3</code></pre>
<pre class="r"><code>match(c(&#39;two&#39;,&#39;five&#39;), x)</code></pre>
<pre><code>## [1] 3 2</code></pre>
</div>
<div id="matrix" class="section level2">
<h2><span class="header-section-number">3.2</span> Matrix</h2>
<pre class="r"><code># a MATRIX is a 2D vector (essentially a vector of vectors) of matching data type
( matrx = matrix(1:15, 3, 5) )</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    4    7   10   13
## [2,]    2    5    8   11   14
## [3,]    3    6    9   12   15</code></pre>
<pre class="r"><code>( matrx &lt;- 1:12 )      # vector to a matrix</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12</code></pre>
<pre class="r"><code>dim(matrx) &lt;- c(3,4)
print(matrx)</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    4    7   10
## [2,]    2    5    8   11
## [3,]    3    6    9   12</code></pre>
<pre class="r"><code>t(matrx) # a matrix can be easily transposed</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9
## [4,]   10   11   12</code></pre>
</div>
<div id="array" class="section level2">
<h2><span class="header-section-number">3.3</span> Array</h2>
<pre class="r"><code># an ARRAY is a generic vector but with more flexibiity. A 1D array is the same as a normal vector,
# and a 2D array is like a matrix. But arrays can store data with &#39;n&#39; dimensions:
( arry &lt;- array(1:24, dim=c(4,3,2)) )</code></pre>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12
## 
## , , 2
## 
##      [,1] [,2] [,3]
## [1,]   13   17   21
## [2,]   14   18   22
## [3,]   15   19   23
## [4,]   16   20   24</code></pre>
<pre class="r"><code># Using square brackets on arrays
arry[12]        # a single criterion (argument) selects the array&#39;s n&#39;th record</code></pre>
<pre><code>## [1] 12</code></pre>
<pre class="r"><code>arry[3,1,2]     # or use multiple arguments that reflect the array&#39;s dimensionality</code></pre>
<pre><code>## [1] 15</code></pre>
<pre class="r"><code>arry[,,2]</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]   13   17   21
## [2,]   14   18   22
## [3,]   15   19   23
## [4,]   16   20   24</code></pre>
<pre class="r"><code>arry[,1,]</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    1   13
## [2,]    2   14
## [3,]    3   15
## [4,]    4   16</code></pre>
<pre class="r"><code># </code></pre>
</div>
<div id="data.frame" class="section level2">
<h2><span class="header-section-number">3.4</span> Data.frame</h2>
<pre class="r"><code># a DATA.FRAME is like a matrix, but accomodates fields (columns) with different data types

df &lt;- data.frame(name = c(&#39;Matt&#39;,&#39;Kate&#39;,&#39;Jacquie&#39;,&#39;Simon&#39;,&#39;Nita&#39;),
                 age = c(35,29,32,35,39))

# They can be viewed easily
# View(df)

# examine their internal stucture
str(df)</code></pre>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  2 variables:
##  $ name: Factor w/ 5 levels &quot;Jacquie&quot;,&quot;Kate&quot;,..: 3 2 1 5 4
##  $ age : num  35 29 32 35 39</code></pre>
<pre class="r"><code># data interrogation with square brackets
df[1,]</code></pre>
<pre><code>##   name age
## 1 Matt  35</code></pre>
<pre class="r"><code>df[2:3,]</code></pre>
<pre><code>##      name age
## 2    Kate  29
## 3 Jacquie  32</code></pre>
<pre class="r"><code>df[,1]</code></pre>
<pre><code>## [1] Matt    Kate    Jacquie Simon   Nita   
## Levels: Jacquie Kate Matt Nita Simon</code></pre>
<pre class="r"><code>df[2,1]</code></pre>
<pre><code>## [1] Kate
## Levels: Jacquie Kate Matt Nita Simon</code></pre>
<pre class="r"><code># data.frame and matrix objects can have field (column) and record (row) names
dimnames(df)</code></pre>
<pre><code>## [[1]]
## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;
## 
## [[2]]
## [1] &quot;name&quot; &quot;age&quot;</code></pre>
<pre class="r"><code>colnames(df)</code></pre>
<pre><code>## [1] &quot;name&quot; &quot;age&quot;</code></pre>
<pre class="r"><code>names(df)     # not for matrix objects</code></pre>
<pre><code>## [1] &quot;name&quot; &quot;age&quot;</code></pre>
<pre class="r"><code>row.names(df)</code></pre>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;</code></pre>
<pre class="r"><code># interrogate data.frames by field name using the &#39;$&#39; operator. the result is a simple vector
df$name</code></pre>
<pre><code>## [1] Matt    Kate    Jacquie Simon   Nita   
## Levels: Jacquie Kate Matt Nita Simon</code></pre>
<pre class="r"><code>df$name[2]</code></pre>
<pre><code>## [1] Kate
## Levels: Jacquie Kate Matt Nita Simon</code></pre>
<pre class="r"><code># names can be reassigned
names(df) &lt;- c(&#39;person&#39;,&#39;years&#39;)
row.names(df) &lt;- c(&#39;R1&#39;,&#39;R2&#39;,&#39;R3&#39;,&#39;R4&#39;,&#39;R5&#39;)
print(df)</code></pre>
<pre><code>##     person years
## R1    Matt    35
## R2    Kate    29
## R3 Jacquie    32
## R4   Simon    35
## R5    Nita    39</code></pre>
<pre class="r"><code># check dimensions of vector/matrix/array/data.frame objects
length(vec)</code></pre>
<pre><code>## [1] 11</code></pre>
<pre class="r"><code>dim(df)</code></pre>
<pre><code>## [1] 5 2</code></pre>
<pre class="r"><code>dim(arry)</code></pre>
<pre><code>## [1] 4 3 2</code></pre>
<pre class="r"><code>nrow(df)</code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="r"><code>ncol(df)</code></pre>
<pre><code>## [1] 2</code></pre>
</div>
<div id="data-summary" class="section level2">
<h2><span class="header-section-number">3.5</span> Data summary</h2>
<pre class="r"><code># R has various inbuilt data.frame datasets used to illustrate how functions operate e.g.

# InsectSprays  # this guide makes use of these datasets

# examine contents
head(InsectSprays)        # list the top records of a vector / matrix / d.f.</code></pre>
<pre><code>##   count spray
## 1    10     A
## 2     7     A
## 3    20     A
## 4    14     A
## 5    14     A
## 6    12     A</code></pre>
<pre class="r"><code>tail(InsectSprays, n=3)   # bottom the 3</code></pre>
<pre><code>##    count spray
## 70    26     F
## 71    24     F
## 72    13     F</code></pre>
<pre class="r"><code>summary(InsectSprays)     # summarise a data vector</code></pre>
<pre><code>##      count       spray 
##  Min.   : 0.00   A:12  
##  1st Qu.: 3.00   B:12  
##  Median : 7.00   C:12  
##  Mean   : 9.50   D:12  
##  3rd Qu.:14.25   E:12  
##  Max.   :26.00   F:12</code></pre>
<pre class="r"><code># aggregate() is a powerful function for summarising categorical data
aggregate(InsectSprays$count, by=list(InsectSprays$spray), FUN=mean)</code></pre>
<pre><code>##   Group.1         x
## 1       A 14.500000
## 2       B 15.333333
## 3       C  2.083333
## 4       D  4.916667
## 5       E  3.500000
## 6       F 16.666667</code></pre>
<pre class="r"><code>sumInsects &lt;- aggregate(InsectSprays$count, by=list(InsectSprays$spray), FUN=sum)
names(sumInsects) &lt;- c(&#39;group&#39;, &#39;sum&#39;)
print(sumInsects)</code></pre>
<pre><code>##   group sum
## 1     A 174
## 2     B 184
## 3     C  25
## 4     D  59
## 5     E  42
## 6     F 200</code></pre>
<pre class="r"><code># subset/apply filter to a data.frame
warpbreaks[warpbreaks$wool==&#39;A&#39;,]                 # by 1 condition</code></pre>
<pre><code>##    breaks wool tension
## 1      26    A       L
## 2      30    A       L
## 3      54    A       L
## 4      25    A       L
## 5      70    A       L
## 6      52    A       L
## 7      51    A       L
## 8      26    A       L
## 9      67    A       L
## 10     18    A       M
## 11     21    A       M
## 12     29    A       M
## 13     17    A       M
## 14     12    A       M
## 15     18    A       M
## 16     35    A       M
## 17     30    A       M
## 18     36    A       M
## 19     36    A       H
## 20     21    A       H
## 21     24    A       H
## 22     18    A       H
## 23     10    A       H
## 24     43    A       H
## 25     28    A       H
## 26     15    A       H
## 27     26    A       H</code></pre>
<pre class="r"><code>warpbreaks[warpbreaks$tension %in% c(&#39;L&#39;,&#39;M&#39;),]   # multiple conditions</code></pre>
<pre><code>##    breaks wool tension
## 1      26    A       L
## 2      30    A       L
## 3      54    A       L
## 4      25    A       L
## 5      70    A       L
## 6      52    A       L
## 7      51    A       L
## 8      26    A       L
## 9      67    A       L
## 10     18    A       M
## 11     21    A       M
## 12     29    A       M
## 13     17    A       M
## 14     12    A       M
## 15     18    A       M
## 16     35    A       M
## 17     30    A       M
## 18     36    A       M
## 28     27    B       L
## 29     14    B       L
## 30     29    B       L
## 31     19    B       L
## 32     29    B       L
## 33     31    B       L
## 34     41    B       L
## 35     20    B       L
## 36     44    B       L
## 37     42    B       M
## 38     26    B       M
## 39     19    B       M
## 40     16    B       M
## 41     39    B       M
## 42     28    B       M
## 43     21    B       M
## 44     39    B       M
## 45     29    B       M</code></pre>
<pre class="r"><code># adding entries is possible (if a bit tricky)
(newrow &lt;- data.frame(breaks=42, wool=&#39;B&#39;, tension=&#39;M&#39;))</code></pre>
<pre><code>##   breaks wool tension
## 1     42    B       M</code></pre>
<pre class="r"><code>(warpbreaks &lt;- rbind(warpbreaks, newrow))</code></pre>
<pre><code>##    breaks wool tension
## 1      26    A       L
## 2      30    A       L
## 3      54    A       L
## 4      25    A       L
## 5      70    A       L
## 6      52    A       L
## 7      51    A       L
## 8      26    A       L
## 9      67    A       L
## 10     18    A       M
## 11     21    A       M
## 12     29    A       M
## 13     17    A       M
## 14     12    A       M
## 15     18    A       M
## 16     35    A       M
## 17     30    A       M
## 18     36    A       M
## 19     36    A       H
## 20     21    A       H
## 21     24    A       H
## 22     18    A       H
## 23     10    A       H
## 24     43    A       H
## 25     28    A       H
## 26     15    A       H
## 27     26    A       H
## 28     27    B       L
## 29     14    B       L
## 30     29    B       L
## 31     19    B       L
## 32     29    B       L
## 33     31    B       L
## 34     41    B       L
## 35     20    B       L
## 36     44    B       L
## 37     42    B       M
## 38     26    B       M
## 39     19    B       M
## 40     16    B       M
## 41     39    B       M
## 42     28    B       M
## 43     21    B       M
## 44     39    B       M
## 45     29    B       M
## 46     20    B       H
## 47     21    B       H
## 48     24    B       H
## 49     17    B       H
## 50     13    B       H
## 51     15    B       H
## 52     15    B       H
## 53     16    B       H
## 54     28    B       H
## 55     42    B       M</code></pre>
</div>
<div id="list" class="section level2">
<h2><span class="header-section-number">3.6</span> List</h2>
<pre class="r"><code># but LISTS are better at this
lst = list()

# ways to assign/add items
lst[1] = &quot;one&quot;
lst[[2]] &lt;- &quot;two&quot;
lst[length(lst)+1] &lt;- &quot;three&quot;
print(lst)</code></pre>
<pre><code>## [[1]]
## [1] &quot;one&quot;
## 
## [[2]]
## [1] &quot;two&quot;
## 
## [[3]]
## [1] &quot;three&quot;</code></pre>
<pre class="r"><code># data retrieval
lst[[1]]      # double brackets means the object returned is of the data class of the list item</code></pre>
<pre><code>## [1] &quot;one&quot;</code></pre>
<pre class="r"><code>lst[2:3]      # selecting a more than 1 list item is possible with single brackets..</code></pre>
<pre><code>## [[1]]
## [1] &quot;two&quot;
## 
## [[2]]
## [1] &quot;three&quot;</code></pre>
<pre class="r"><code>lst[c(1,3)]   # but the object returned (from single bracket interrogation) is a list</code></pre>
<pre><code>## [[1]]
## [1] &quot;one&quot;
## 
## [[2]]
## [1] &quot;three&quot;</code></pre>
<pre class="r"><code># delete list items
lst[[3]] &lt;- NULL
lst[1:2] &lt;- NULL
lst</code></pre>
<pre><code>## list()</code></pre>
<pre class="r"><code># entries can be any object type (like python), including other lists (double bracketting)
lst[[1]] &lt;- list(&#39;subitem1&#39;, 2, 3)
lst[[2]] &lt;- &#39;item2&#39;
lst</code></pre>
<pre><code>## [[1]]
## [[1]][[1]]
## [1] &quot;subitem1&quot;
## 
## [[1]][[2]]
## [1] 2
## 
## [[1]][[3]]
## [1] 3
## 
## 
## [[2]]
## [1] &quot;item2&quot;</code></pre>
<pre class="r"><code>lst[[1]][[1]]</code></pre>
<pre><code>## [1] &quot;subitem1&quot;</code></pre>
<pre class="r"><code># Data in lists can also be stored and recalled by key word/number (like Python&#39;s dictionary class)
dict &lt;- list(mon=1, tues=2)
dict[&#39;wed&#39;] &lt;- 3
print(dict)</code></pre>
<pre><code>## $mon
## [1] 1
## 
## $tues
## [1] 2
## 
## $wed
## [1] 3</code></pre>
<pre class="r"><code>dict[[&#39;tues&#39;]]</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="r"><code>dict[c(&#39;mon&#39;,&#39;wed&#39;)]</code></pre>
<pre><code>## $mon
## [1] 1
## 
## $wed
## [1] 3</code></pre>
<pre class="r"><code># reorder a vector with &#39;sort&#39;
vec &lt;- c(10,6,2,4,10,2,8,7,1,6)
sort(vec)</code></pre>
<pre><code>##  [1]  1  2  2  4  6  6  7  8 10 10</code></pre>
<pre class="r"><code># or a dataframe with &#39;order&#39;
df[order(df$years),]</code></pre>
<pre><code>##     person years
## R2    Kate    29
## R3 Jacquie    32
## R1    Matt    35
## R4   Simon    35
## R5    Nita    39</code></pre>
</div>
<div id="logical-objects" class="section level2">
<h2><span class="header-section-number">3.7</span> Logical objects</h2>
<pre class="r"><code># LOGICAL objects (booleans) are binary true/false objects that facilitate conditional data processing
(bool &lt;- TRUE)</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>(bool &lt;- c(TRUE, FALSE, TRUE))</code></pre>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
<pre class="r"><code># query an object&#39;s data/structure type with &#39;class()&#39;
class(bool)</code></pre>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<pre class="r"><code>class(num)               # numeric is the default data type for number objects</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<pre class="r"><code>class(as.integer(num))   # integer class exists but is not default</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<pre class="r"><code>class(char)              # character class</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>class(&#39;237&#39; )            # numbers aren&#39;t always numeric type</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>as.numeric(&#39;237&#39;)        # but can be converted</code></pre>
<pre><code>## [1] 237</code></pre>
<pre class="r"><code>as.character(237)        # and vice verse</code></pre>
<pre><code>## [1] &quot;237&quot;</code></pre>
<pre class="r"><code># Child-objects are often of different class to parents
class(df)</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<pre class="r"><code>class(df[,2])</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<pre class="r"><code>class(df[,1])</code></pre>
<pre><code>## [1] &quot;factor&quot;</code></pre>
</div>
<div id="factor" class="section level2">
<h2><span class="header-section-number">3.8</span> Factor</h2>
<pre class="r"><code># FACTOR objects are vectors of items that have been categorised by unique values
factr &lt;- as.factor(c(10,30,20,10,20,20,30))
str(factr) </code></pre>
<pre><code>##  Factor w/ 3 levels &quot;10&quot;,&quot;20&quot;,&quot;30&quot;: 1 3 2 1 2 2 3</code></pre>
<pre class="r"><code>levels(factr)</code></pre>
<pre><code>## [1] &quot;10&quot; &quot;20&quot; &quot;30&quot;</code></pre>
<pre class="r"><code>table(factr)</code></pre>
<pre><code>## factr
## 10 20 30 
##  2  3  2</code></pre>
<pre class="r"><code># you may encounter problems converting a factor of numeric data to numeric type
as.numeric(factr)</code></pre>
<pre><code>## [1] 1 3 2 1 2 2 3</code></pre>
<pre class="r"><code># instead do this
as.numeric(as.character(factr))</code></pre>
<pre><code>## [1] 10 30 20 10 20 20 30</code></pre>
<pre class="r"><code># editing factors can be tricky
print(df)</code></pre>
<pre><code>##     person years
## R1    Matt    35
## R2    Kate    29
## R3 Jacquie    32
## R4   Simon    35
## R5    Nita    39</code></pre>
<pre class="r"><code>df$person[1] &lt;- &#39;Matthew&#39;

# instead convert to character or numeric etc
df$person &lt;- as.character(df$person)
df$person[1] &lt;- &#39;Matthew&#39;
df$person &lt;- as.factor(df$person)   # coerce back to factor if necessary
levels(df$person)</code></pre>
<pre><code>## [1] &quot;Jacquie&quot; &quot;Kate&quot;    &quot;Matthew&quot; &quot;Nita&quot;    &quot;Simon&quot;</code></pre>
</div>
</div>
<div id="structures-et-fonctions" class="section level1">
<h1><span class="header-section-number">4</span> Structures et fonctions</h1>
<div id="logical-operations" class="section level2">
<h2><span class="header-section-number">4.1</span> Logical operations</h2>
<pre class="r"><code>2 + 2 == 4               # &#39;==&#39; denotes value equality</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>3 &lt;= 2                   # less than or equal to</code></pre>
<pre><code>## [1] FALSE</code></pre>
<pre class="r"><code>3 &gt;= 2                   # greater than or equal to</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>&#39;string&#39; == &quot;string&quot;</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>&#39;b&#39; &gt;= &#39;a&#39;               # strings can be ranked</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>3 != 3                   # NOT operator</code></pre>
<pre><code>## [1] FALSE</code></pre>
<pre class="r"><code>c(4,2,6) == c(4,2,8)     # vector comparisons return locical vectors</code></pre>
<pre><code>## [1]  TRUE  TRUE FALSE</code></pre>
<pre class="r"><code>TRUE == T                # &#39;T&#39; and &#39;F&#39; default as boolean shortcuts (until overwritten)</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>TRUE &amp; TRUE              # AND operator</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>TRUE | FALSE             # OR operator</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>F | F</code></pre>
<pre><code>## [1] FALSE</code></pre>
</div>
<div id="ifelse-statement" class="section level2">
<h2><span class="header-section-number">4.2</span> If/else statement</h2>
<pre class="r"><code># IF/ELSE statement (used in most logical procedures)
x &lt;- 4
if(x &lt; 5){ 
  print(&#39;x is less than 5&#39;)
} else{
  print(&#39;x is not less than 5&#39;)
}</code></pre>
<pre><code>## [1] &quot;x is less than 5&quot;</code></pre>
<pre class="r"><code>if(T|F) print(&#39;single liners can dispense with curly brackets&#39;)</code></pre>
<pre><code>## [1] &quot;single liners can dispense with curly brackets&quot;</code></pre>
<pre class="r"><code>if(T&amp;F) print(&#39;&#39;) else print(&quot;but then &#39;else&#39; only works on the same line&quot;)</code></pre>
<pre><code>## [1] &quot;but then &#39;else&#39; only works on the same line&quot;</code></pre>
</div>
<div id="looping-functions" class="section level2">
<h2><span class="header-section-number">4.3</span> Looping functions</h2>
<pre class="r"><code># LOOPING FUNCTIONS - very useful for handling repetitive operations

# &#39;FOR&#39; loop 
for(i in 1:10){
  print(paste(&#39;number &#39;,i))
}</code></pre>
<pre><code>## [1] &quot;number  1&quot;
## [1] &quot;number  2&quot;
## [1] &quot;number  3&quot;
## [1] &quot;number  4&quot;
## [1] &quot;number  5&quot;
## [1] &quot;number  6&quot;
## [1] &quot;number  7&quot;
## [1] &quot;number  8&quot;
## [1] &quot;number  9&quot;
## [1] &quot;number  10&quot;</code></pre>
<pre class="r"><code># WHILE loop (be careful to include safeguards to prevent infinite loops)
i = 30
while(i &gt; 0){
  print(paste(&#39;number &#39;,i))
  i = i - 3
}</code></pre>
<pre><code>## [1] &quot;number  30&quot;
## [1] &quot;number  27&quot;
## [1] &quot;number  24&quot;
## [1] &quot;number  21&quot;
## [1] &quot;number  18&quot;
## [1] &quot;number  15&quot;
## [1] &quot;number  12&quot;
## [1] &quot;number  9&quot;
## [1] &quot;number  6&quot;
## [1] &quot;number  3&quot;</code></pre>
</div>
<div id="fonctions" class="section level2">
<h2><span class="header-section-number">4.4</span> Fonctions</h2>
<pre class="r"><code># creating a function
multiply &lt;- function(input1, input2){
  tot &lt;- input1 * input2
  return(tot)
}

multiply(3,5)</code></pre>
<pre><code>## [1] 15</code></pre>
<pre class="r"><code># note &#39;tot&#39; wasn&#39;t remembered outside the function - functions are contained environments
# if required use &#39;&lt;&lt;-&#39; for global assignment but be careful not to overwrite R&#39;s internal objects
# its generally better to do this:
newVar &lt;- multiply(3,5)

# handling &#39;NA&#39; values
(x = 1:5)</code></pre>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<pre class="r"><code>x[8] = 8
x[3] = NA
print(x)       # sometimes functions will fail because of NA values</code></pre>
<pre><code>## [1]  1  2 NA  4  5 NA NA  8</code></pre>
<pre class="r"><code>na.omit(x)     # iterates full list but ignores NAs</code></pre>
<pre><code>## [1] 1 2 4 5 8
## attr(,&quot;na.action&quot;)
## [1] 3 6 7
## attr(,&quot;class&quot;)
## [1] &quot;omit&quot;</code></pre>
<pre class="r"><code>x[na.omit(x)]</code></pre>
<pre><code>## [1] 1 2 4 5 8</code></pre>
<pre class="r"><code>is.na(x)       # alternatively</code></pre>
<pre><code>## [1] FALSE FALSE  TRUE FALSE FALSE  TRUE  TRUE FALSE</code></pre>
<pre class="r"><code>x[!is.na(x)]</code></pre>
<pre><code>## [1] 1 2 4 5 8</code></pre>
</div>
<div id="fonctions-mathematiques-de-base" class="section level2">
<h2><span class="header-section-number">4.5</span> Fonctions mathématiques de base</h2>
<pre class="r"><code># useful basic math functions
seq(-2, 2, by=.2)                 # sequence of equal difference</code></pre>
<pre><code>##  [1] -2.0 -1.8 -1.6 -1.4 -1.2 -1.0 -0.8 -0.6 -0.4 -0.2  0.0  0.2  0.4  0.6
## [15]  0.8  1.0  1.2  1.4  1.6  1.8  2.0</code></pre>
<pre class="r"><code>seq(length=10, from=-5, by=.2)    # with range defined by vector length</code></pre>
<pre><code>##  [1] -5.0 -4.8 -4.6 -4.4 -4.2 -4.0 -3.8 -3.6 -3.4 -3.2</code></pre>
<pre class="r"><code>rnorm(20, mean = 0, sd = 1)       # random normal distribution</code></pre>
<pre><code>##  [1]  0.03515480 -0.66678643 -0.81568682  0.12187737  0.06535406
##  [6] -1.72635252 -0.93558663  1.29865430 -0.58998365  0.55529298
## [11] -0.19494348 -0.68812544  0.08269864  0.16814683  0.80554673
## [16] -0.21220087 -0.85242940 -1.29667481 -2.54466095  0.53625801</code></pre>
<pre class="r"><code>runif(20, min=0, max=100)         # array of random numbers</code></pre>
<pre><code>##  [1] 50.936058 73.191303 85.243430 32.045487 30.628624  9.902127 74.149522
##  [8] 78.382458 68.641672 71.339082 11.371578 73.102555 49.881506 45.334151
## [15] 94.372780 48.076615 16.030034 43.926385 52.393116 57.003309</code></pre>
<pre class="r"><code>sample(0:100, 20, replace=TRUE)   # array of random integers</code></pre>
<pre><code>##  [1] 75 83 41 62 77 66 71 13 20 28 55 63 39 69 68 36 13 37 46 39</code></pre>
<pre class="r"><code>table(warpbreaks[,2:3])           # array summary stats (powerful summary tool)</code></pre>
<pre><code>##     tension
## wool  L  M  H
##    A  9  9  9
##    B  9 10  9</code></pre>
<pre class="r"><code>min(vec)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="r"><code>max(vec)</code></pre>
<pre><code>## [1] 10</code></pre>
<pre class="r"><code>range(vec)</code></pre>
<pre><code>## [1]  1 10</code></pre>
<pre class="r"><code>mean(vec)</code></pre>
<pre><code>## [1] 5.6</code></pre>
<pre class="r"><code>median(vec)</code></pre>
<pre><code>## [1] 6</code></pre>
<pre class="r"><code>sum(vec)</code></pre>
<pre><code>## [1] 56</code></pre>
<pre class="r"><code>prod(vec)</code></pre>
<pre><code>## [1] 3225600</code></pre>
<pre class="r"><code>abs(-5)                                # magnitude</code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="r"><code>sd(rnorm(10))                          # standard deviation</code></pre>
<pre><code>## [1] 0.942443</code></pre>
<pre class="r"><code>4^2                                    # square</code></pre>
<pre><code>## [1] 16</code></pre>
<pre class="r"><code>sqrt(16)                               # square root</code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="r"><code>5%%3                                   # modulo (remainder after subtraction of any multiple)</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="r"><code>6%%2                                   </code></pre>
<pre><code>## [1] 0</code></pre>
<pre class="r"><code>for(i in 1:100) if(i%%20==0) print(i)  # useful for running an operation every n&#39;th cycle</code></pre>
<pre><code>## [1] 20
## [1] 40
## [1] 60
## [1] 80
## [1] 100</code></pre>
</div>
</div>
<div id="import-et-export" class="section level1">
<h1><span class="header-section-number">5</span> Import et export</h1>
<pre class="r"><code># Importing and exporting data using comma-separated file
# write.csv(df, &#39;example.csv&#39;)       # save to csv file
# rm(df)
# (df &lt;- read.csv(&#39;example.csv&#39;))</code></pre>
</div>
<div id="graphique" class="section level1">
<h1><span class="header-section-number">6</span> Graphique</h1>
<pre class="r"><code># PLOTTING IN R

# some basic functionality
plot(1:10)</code></pre>
<p><img src="0_cours_rapide_R_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<pre class="r"><code>plot(sort(rnorm(100)), pch=16, cex=0.5)                 # specifying point and size respectively</code></pre>
<p><img src="0_cours_rapide_R_files/figure-html/unnamed-chunk-19-2.png" width="672" /></p>
<pre class="r"><code>plot(x=1:25, y=25:1, pch=1:25)                          # x &amp; y inputs, and showing the available point symbols</code></pre>
<p><img src="0_cours_rapide_R_files/figure-html/unnamed-chunk-19-3.png" width="672" /></p>
<pre class="r"><code>plot(sin, -pi, 2*pi)</code></pre>
<p><img src="0_cours_rapide_R_files/figure-html/unnamed-chunk-19-4.png" width="672" /></p>
<pre class="r"><code>hist(rnorm(1000), breaks=50)</code></pre>
<p><img src="0_cours_rapide_R_files/figure-html/unnamed-chunk-19-5.png" width="672" /></p>
<pre class="r"><code>barplot(sumInsects$sum, names.arg = sumInsects$group)</code></pre>
<p><img src="0_cours_rapide_R_files/figure-html/unnamed-chunk-19-6.png" width="672" /></p>
<pre class="r"><code>pie(sumInsects$sum, labels = sumInsects$group)</code></pre>
<p><img src="0_cours_rapide_R_files/figure-html/unnamed-chunk-19-7.png" width="672" /></p>
<pre class="r"><code># plots with more visual components are built up incrementally
x &lt;- sample(0:100, 25, replace=TRUE)
plot(x, pch=17)
lines(x, col=&#39;#00FF00&#39;)
points(x+5, pch=16, col=&#39;red&#39;)</code></pre>
<p><img src="0_cours_rapide_R_files/figure-html/unnamed-chunk-19-8.png" width="672" /></p>
<pre class="r"><code># stacking charts
warpbreaks</code></pre>
<pre><code>##    breaks wool tension
## 1      26    A       L
## 2      30    A       L
## 3      54    A       L
## 4      25    A       L
## 5      70    A       L
## 6      52    A       L
## 7      51    A       L
## 8      26    A       L
## 9      67    A       L
## 10     18    A       M
## 11     21    A       M
## 12     29    A       M
## 13     17    A       M
## 14     12    A       M
## 15     18    A       M
## 16     35    A       M
## 17     30    A       M
## 18     36    A       M
## 19     36    A       H
## 20     21    A       H
## 21     24    A       H
## 22     18    A       H
## 23     10    A       H
## 24     43    A       H
## 25     28    A       H
## 26     15    A       H
## 27     26    A       H
## 28     27    B       L
## 29     14    B       L
## 30     29    B       L
## 31     19    B       L
## 32     29    B       L
## 33     31    B       L
## 34     41    B       L
## 35     20    B       L
## 36     44    B       L
## 37     42    B       M
## 38     26    B       M
## 39     19    B       M
## 40     16    B       M
## 41     39    B       M
## 42     28    B       M
## 43     21    B       M
## 44     39    B       M
## 45     29    B       M
## 46     20    B       H
## 47     21    B       H
## 48     24    B       H
## 49     17    B       H
## 50     13    B       H
## 51     15    B       H
## 52     15    B       H
## 53     16    B       H
## 54     28    B       H
## 55     42    B       M</code></pre>
<pre class="r"><code>sumWB &lt;- aggregate(warpbreaks$breaks, by=list(warpbreaks$wool, warpbreaks$tension), FUN=mean)
names(sumWB) &lt;- c(&#39;wool&#39;,&#39;tension&#39;,&#39;mean_breaks&#39;)
sumWB</code></pre>
<pre><code>##   wool tension mean_breaks
## 1    A       L    44.55556
## 2    B       L    28.22222
## 3    A       M    24.00000
## 4    B       M    30.10000
## 5    A       H    24.55556
## 6    B       H    18.77778</code></pre>
<pre class="r"><code>(data &lt;- cbind(sumWB$mean_breaks[c(1,3,5)], sumWB$mean_breaks[c(2,4,6)]))</code></pre>
<pre><code>##          [,1]     [,2]
## [1,] 44.55556 28.22222
## [2,] 24.00000 30.10000
## [3,] 24.55556 18.77778</code></pre>
<pre class="r"><code>barplot(data, names.arg=c(&#39;Group A&#39;,&#39;Group B&#39;), 
        legend.text=c(&#39;L&#39;,&#39;M&#39;,&#39;H&#39;), args.legend = list(x = &quot;right&quot;))</code></pre>
<p><img src="0_cours_rapide_R_files/figure-html/unnamed-chunk-19-9.png" width="672" /></p>
<pre class="r"><code>barplot(data, names.arg=c(&#39;Group A&#39;,&#39;Group B&#39;), beside=T,
        legend.text=c(&#39;L&#39;,&#39;M&#39;,&#39;H&#39;), args.legend = list(x = &quot;topright&quot;))</code></pre>
<p><img src="0_cours_rapide_R_files/figure-html/unnamed-chunk-19-10.png" width="672" /></p>
<pre class="r"><code># &#39;symbols()&#39; is a good way to represent a 3rd data dimension (use square root for area proportionality)
(cities &lt;- data.frame(city=c(&#39;London&#39;,&#39;Bristol&#39;,&#39;Manchester&#39;,&#39;Leeds&#39;), 
                      lon=c(-0.1,-2.6,-2.2,-1.5), lat=c(51.5,51.4,53.5,53.8), pop=c(8,1,2.7,0.8)))</code></pre>
<pre><code>##         city  lon  lat pop
## 1     London -0.1 51.5 8.0
## 2    Bristol -2.6 51.4 1.0
## 3 Manchester -2.2 53.5 2.7
## 4      Leeds -1.5 53.8 0.8</code></pre>
<pre class="r"><code>symbols(x=cities$lon, y=cities$lat, circles=sqrt(cities$pop), inches=0.3, 
        bg=&#39;red&#39;, fg=NULL, asp=T, xlab=&#39;Longitude&#39;, ylab=&#39;Latitude&#39;)
abline(h=(seq(51,53,1)), col=&quot;lightgray&quot;, lty=1)
abline(v=(seq(-4,1,1)), col=&quot;lightgray&quot;, lty=1)
text(x=cities$lon, y=cities$lat+0.2, labels=cities$city)</code></pre>
<p><img src="0_cours_rapide_R_files/figure-html/unnamed-chunk-19-11.png" width="672" /></p>
<pre class="r"><code># But for much easier and more elegant data visualisation use GGPLOT2

# END OF SCRIPT</code></pre>
</div>
<div id="references" class="section level1">
<h1><span class="header-section-number">7</span> Références</h1>
<p>De nombreux codes et les commentaires ont été créés par:</p>
<pre class="r"><code>## A CRASH COURSE IN [R] PROGRAMMING
## Robin Edwards (geotheory.co.uk), March 2013</code></pre>
<p>Certians codes viennent du site <a href="http://www.sthda.com/english/wiki/easy-r-programming-basics">sthda</a>.</p>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'kezhan'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-79158649-2', 'auto');
  ga('send', 'pageview');

</script>
<p>Copyright &copy; 2016 DatavISUP</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
